# day01

## 本章目标

* 进程同步和进程互斥
* 进程间通信目的
* 进程间通信发展
* 进程间通信分类
* 进程间共享信息的三种方式
* `IPC`对象的持续性：`IPC：Inter-Process Communication`进程间通信

## 顺序程序和并发程序特征

* 顺序程序特征
  * 顺序性
  * 封闭性：运行环境的封闭性，每个应用程序都有`4G`的虚拟内存(32位)，和一个`完整的CPU`
  * 确定性
  * 可再现性
* 并发程序特征
  * 共享性
  * 并发性
  * 随机性

## 进程互斥

* 由于各进程要求共享资源，而且有些资源需要互斥使用，因此各进程间竞争使用这些资源，进程的这种关系为进程的互斥。
* 系统中某些资源一次只允许一个进程使用，称这样的资源为临界资源或互斥资源
* 在进程中涉及到互斥资源的程序段叫临界区

## 进程同步

* 进程同步指的是多个进程需要相互配合共同完成一项任务。

## 进程间通信目的

* 数据传输：一个进程需要将它的数据发送给另一个进程
* 资源共享：多个进程之间共享同样的资源
* 通知事件：一个进程需要向另一个或一组进程发送消息，通知它(它们)发生了某种事件(如进程终止时要通知父进程)。
* 进程控制：有些进程希望完全控制另一个进程的执行(如Debug进程)，此时控制进程希望能够拦截另一个进程的所有陷入和异常，并能够及时直到它的状态改变。

## 进程间通信发展

* 管道
* `System V`进程间通信
* `POSIX`进程间通信，统一的进程通信标准，目的适用各种Unix系统的通信。

## 进程间通信的分类

* 文件
* 文件锁：文件的读写锁。
* 管道(pipe)和有名管道(FIFO)
* 信号(signal)
* 消息队列
* 共享内存
* 信号量
* 互斥量
* 条件变量
* 读写锁
* 套接字(socket)

## Syetem V IPC 和 POSIX IPC

> `IPC：Inter-Process Communication`进程间通信

* `System V IPC`
  * `System V`消息队列
  * `System V`共享内存
  * `System V`信号量
* `POSIX IPC`
  * 消息队列
  * 共享内存
  * 信号量
  * 互斥量
  * 条件变量
  * 读写锁

## 进程间共享信息的三种方式

* 共享文件系统
* 共享内核中的信息
* 共享内存

## IPC对象的持续性

* 随进程持续：一直存在直到打开的最后一个进程结束。(如pipe和FIFO)
* 随内核持续：一直存在直到内核自举(电脑重启)或显式删除(如：System V消息队列、共享内存、信号量)
* 随文件系统持续：一直存在直到显式删除，即使内核自举还存在(如：POSIX消息队列、共享内存、消息队列、信号量，如果是**使用映射文件来实现**)。`System V`的消息队列、共享内存、消息队列、信号量会随内核自举消失，看上面的那个就知道了。