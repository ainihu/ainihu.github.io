# 知识查漏

## 海量数据查找最大的k个数

>   参考链接：https://blog.csdn.net/zyq522376829/article/details/47686867

## Linux虚拟地址空间

*   用户进程

    | 名称   | 存储内容                                           |
    | ------ | -------------------------------------------------- |
    | 栈     | 局部变量、函数参数(也有可能在寄存器中)、返回地址等 |
    | 堆     | 程序员动态分配的空间                               |
    | BSS    | 未初始化或初值为0的全局变量和静态局部变量          |
    | 数据段 | 已初始化且初始值非0的全局变量                      |
    | 代码段 | 可执行代码、字符串字面值、只读变量(const修饰的)    |

*   内存空间

    *   内核空间，为内核保留的内存空间，不允许应用程序读写该区域的内容或直接调用内核定义的函数
    *   栈，由编译器自动分配释放，特性先进后出
        *   为函数内部声明的非静态局部变量提供内存空间
        *   记录函数调用过程相关的维护信息，函数指针、返回值等
        *   临时存储区
    *   内存映射段(mmap)
        *   将硬盘文件映射的内容映射到内存中，任何应用程序都可通过Linux的`mamp()`系统调用请求这种映射，内存映射是一种高效的文件`I/O`方式
    *   堆(heap)
        *   堆用于存放进程运行时动态分配的内存段，可动态扩张或缩减，可以用于延长变量的生命周期，只能通过指针访问，当进程使用`malloc()`/`new`时，分配的内存从堆上来。会产生内存碎片，栈不会产生。特别要注意的是要释放内存，否则会引起内存泄漏，最终导致程序的崩溃。
    *   BSS段
        *   未初始化的全局变量和静态局部变量
        *   初始值为0的全局变量和静态局部变量（依赖于编译器实现）
    *   数据段
        *   存放程序中已初始化且初值不为0的全局变量和静态局部变量，数据段属于静态内存分配(静态存储区)，可读可写
        *   例：`int a = 10;`，数据段保存10这个数据，程序加载时候复制到相应的内存中。
    *   代码段
        *   存放程序执行代码，一般C语言执行语句都编译成机器代码保存在代码段
    *   保留区
        *   位于虚拟地址空间的最低部分，未赋值物理空间。任何对它的引用都是非法的，用于捕捉使用空指针和小整形值指针引用内存的异常情况。

## 红黑树和avl树

*   区别
*   红黑树的定义和特点

## 程序的内存结构

## 缺页中断

## 页表寻址

## fork和vfork的区别

| fork()                           | vfork()                                                      |
| -------------------------------- | ------------------------------------------------------------ |
| 子进程拷贝父进程的数据段、代码段 | 子进程与父进程共享数据段                                     |
| 子进程父进程执行次序不确定       | 子进程先执行，在子进程调用exec()或者exit()后父进程才能被调度(子进程退出后父进程才能运行) |
| 子进程父进程相互独立运行         | 如果子进程不调用exec()或者exit()函数就会产生死锁，父进程永远不会执行。 |

## 数据库事务

>   数据库事务特性

*   原子性：事务中包含的操作被看做一个逻辑单元，要么逻辑单元的操作全部执行成功，要么全部失败。
*   一致性：只有合法的数据可以被写入数据库，否则事务应该回滚到最初的状态
*   隔离性：数据库允许并发执行多个事务，且数据库保证每个事务在它的修改全部完成前，对其他的事务是不可见的。
*   持久性：事务结束后，事务处理的结果必须能够得到固化，即使系统出现异常。

## 线程和进程的区别

>   参考链接
>
>   *   http://blog.csdn.net/zheng548/article/details/54669908 
>   *   https://blog.csdn.net/luoweifu/article/details/46595285
>   *   https://blog.csdn.net/mxsgoden/article/details/8821936

### 进程

*   操作系统分配资源的最小单位
*   一个进程由一个或者多个线程组成
*   进程之间相互独立运行
*   进程间调度开销大
*   进程可以独立运行

### 线程

*   线程是程序执行的最小单位
*   线程是进程中代码的不同执行路线
*   同一进程下的各个线程之间共享内存空间(可以有线程自己的私有的栈和变量)
*   线程间调度开销小
*   线程必须依赖于进程才能运行

## static关键字的作用

>   参考链接
>
>   https://www.cnblogs.com/biyeymyhjob/archive/2012/07/19/2598815.html

1.  未加`static`关键字的变量全局可见，即一个文件中的全局变量，在其他的文件中可见。

2.  存储在静态数据区的变量会在程序开始运行时就完成初始化，也是唯一的一次初始化。

3.  默认初始化为0(是ASCII码的0，不是数字0)。

4.  C++类成员声明`static`

    >   静态数据成员是类的成员，不是对象的成员

    *   `static`修饰成员函数
        *   没有this指针，只能访问类的静态数据和静态成员函数
        *   不能将静态成员函数定义为虚函数
    *   `static`修饰成员变量
        *   静态成员变量是静态存储的，所以必须对它进行初始化，否链接时会报错(编译可以通过)。
        *   静态成员变量的初始化`<数据类型> <类名>::<静态数据成员名> = <值>`